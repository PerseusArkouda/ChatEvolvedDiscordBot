"use strict";var _isotropicMake=_interopRequireDefault(require("isotropic-make"));Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}const _Error=(0,_isotropicMake.default)(Error,{// eslint-disable-line no-restricted-globals
toString(){let a=this.name||"Error";return this.message&&(a+=`: ${this.message}`),a},_getMessage(){return this._message||this.error&&this.error.message||void 0},_getName(){return this._name||this.error&&this.error.name||void 0},_getStack(){if(!this._stack){this._stack=this.toString(),this.details&&(this._stack+=`\nDetails: ${JSON.stringify(this.details,null,4)}`);const a=Error.prepareStackTrace;// eslint-disable-line no-restricted-globals
// eslint-disable-line no-restricted-globals
Error.prepareStackTrace=_Error._prepareStackTrace,this._stack+=`\n${this._getInternalStack()}`,Error.prepareStackTrace=a,this.error&&(this._stack+=`\n-> ${this.error.stack||this.error}`)}return this._stack},_init({details:a,error:b,message:c,name:d}={}){let e;if(Error.captureStackTrace)e={},Error.captureStackTrace(e,_Error);else try{throw new Error;// eslint-disable-line no-restricted-globals
}catch(a){e=a}return Object.defineProperties(this,{details:{enumerable:!0,value:a},error:{enumerable:!0,value:b},message:{enumerable:!0,get:this._getMessage},name:{enumerable:!0,get:this._getName},stack:{get:this._getStack},_getInternalStack:{value:()=>e.stack},_message:{value:c},_name:{value:d},_stack:{writable:!0}}),this}},{_prepareStackTrace(a,b){return b.map(a=>{let b;try{b=a.toString()}catch(a){try{b=`<error: ${a}>`}catch(a){b="<error>"}}return`    at ${b}`}).join("\n")}});var _default=_Error;exports.default=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2pzL2Vycm9yLmpzIl0sIm5hbWVzIjpbIl9FcnJvciIsIkVycm9yIiwidG9TdHJpbmciLCJzdHJpbmciLCJuYW1lIiwibWVzc2FnZSIsIl9nZXRNZXNzYWdlIiwiX21lc3NhZ2UiLCJlcnJvciIsIl9nZXROYW1lIiwiX25hbWUiLCJfZ2V0U3RhY2siLCJfc3RhY2siLCJkZXRhaWxzIiwiSlNPTiIsInN0cmluZ2lmeSIsInByZXBhcmVTdGFja1RyYWNlIiwiX3ByZXBhcmVTdGFja1RyYWNlIiwiX2dldEludGVybmFsU3RhY2siLCJzdGFjayIsIl9pbml0IiwiaW50ZXJuYWxFcnJvciIsImNhcHR1cmVTdGFja1RyYWNlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydGllcyIsImVudW1lcmFibGUiLCJ2YWx1ZSIsImdldCIsIndyaXRhYmxlIiwiZXJyb3JPYmplY3QiLCJzdHJ1Y3R1cmVkU3RhY2tUcmFjZSIsIm1hcCIsInN0YWNrRnJhbWUiLCJsaW5lIiwiZXJyb3IwIiwiZXJyb3IxIiwiam9pbiJdLCJtYXBwaW5ncyI6ImFBQUEscUUsc0pBRUEsS0FBTUEsQ0FBQUEsTUFBTSxDQUFHLDJCQUFNQyxLQUFOLENBQWEsQ0FBRTtBQUMxQkMsUUFBUSxFQUFJLENBQ1IsR0FBSUMsQ0FBQUEsQ0FBTSxDQUFHLEtBQUtDLElBQUwsRUFBYSxPQUExQixDQU1BLE1BSkksTUFBS0MsT0FJVCxHQUhJRixDQUFNLEVBQUssS0FBSSxLQUFLRSxPQUFRLEVBR2hDLEVBQU9GLENBQ1YsQ0FUdUIsQ0FVeEJHLFdBQVcsRUFBSSxDQUNYLE1BQU8sTUFBS0MsUUFBTCxFQUFpQixLQUFLQyxLQUFMLEVBQWMsS0FBS0EsS0FBTCxDQUFXSCxPQUExQyxRQUNWLENBWnVCLENBYXhCSSxRQUFRLEVBQUksQ0FDUixNQUFPLE1BQUtDLEtBQUwsRUFBYyxLQUFLRixLQUFMLEVBQWMsS0FBS0EsS0FBTCxDQUFXSixJQUF2QyxRQUNWLENBZnVCLENBZ0J4Qk8sU0FBUyxFQUFJLENBQ1QsR0FB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QWYsQyxhQWdIZXBDLE0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX21ha2UgZnJvbSAnaXNvdHJvcGljLW1ha2UnO1xuXG5jb25zdCBfRXJyb3IgPSBfbWFrZShFcnJvciwgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgIHRvU3RyaW5nICgpIHtcbiAgICAgICAgbGV0IHN0cmluZyA9IHRoaXMubmFtZSB8fCAnRXJyb3InO1xuXG4gICAgICAgIGlmICh0aGlzLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHN0cmluZyArPSBgOiAke3RoaXMubWVzc2FnZX1gO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9LFxuICAgIF9nZXRNZXNzYWdlICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lc3NhZ2UgfHwgdGhpcy5lcnJvciAmJiB0aGlzLmVycm9yLm1lc3NhZ2UgfHwgdm9pZCBudWxsO1xuICAgIH0sXG4gICAgX2dldE5hbWUgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZSB8fCB0aGlzLmVycm9yICYmIHRoaXMuZXJyb3IubmFtZSB8fCB2b2lkIG51bGw7XG4gICAgfSxcbiAgICBfZ2V0U3RhY2sgKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3N0YWNrKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFjayA9IHRoaXMudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZGV0YWlscykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YWNrICs9IGBcXG5EZXRhaWxzOiAke0pTT04uc3RyaW5naWZ5KHRoaXMuZGV0YWlscywgbnVsbCwgNCl9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcHJlcGFyZVN0YWNrVHJhY2UgPSBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcblxuICAgICAgICAgICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBfRXJyb3IuX3ByZXBhcmVTdGFja1RyYWNlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgICAgICAgICAgdGhpcy5fc3RhY2sgKz0gYFxcbiR7dGhpcy5fZ2V0SW50ZXJuYWxTdGFjaygpfWA7XG4gICAgICAgICAgICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHByZXBhcmVTdGFja1RyYWNlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuXG4gICAgICAgICAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YWNrICs9IGBcXG4tPiAke3RoaXMuZXJyb3Iuc3RhY2sgfHwgdGhpcy5lcnJvcn1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YWNrO1xuICAgIH0sXG4gICAgX2luaXQgKHtcbiAgICAgICAgZGV0YWlscyxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIG5hbWVcbiAgICB9ID0ge30pIHtcbiAgICAgICAgbGV0IGludGVybmFsRXJyb3I7XG5cbiAgICAgICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG4gICAgICAgICAgICBpbnRlcm5hbEVycm9yID0ge307XG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShpbnRlcm5hbEVycm9yLCBfRXJyb3IpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxFcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRldGFpbHNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGVycm9yXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0OiB0aGlzLl9nZXRNZXNzYWdlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0OiB0aGlzLl9nZXROYW1lXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RhY2s6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IHRoaXMuX2dldFN0YWNrXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2dldEludGVybmFsU3RhY2s6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogKCkgPT4gaW50ZXJuYWxFcnJvci5zdGFja1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IG1lc3NhZ2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfbmFtZToge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBuYW1lXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3N0YWNrOiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufSwge1xuICAgIF9wcmVwYXJlU3RhY2tUcmFjZSAoZXJyb3JPYmplY3QsIHN0cnVjdHVyZWRTdGFja1RyYWNlKSB7XG4gICAgICAgIHJldHVybiBzdHJ1Y3R1cmVkU3RhY2tUcmFjZS5tYXAoc3RhY2tGcmFtZSA9PiB7XG4gICAgICAgICAgICBsZXQgbGluZTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsaW5lID0gc3RhY2tGcmFtZS50b1N0cmluZygpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IwKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9IGA8ZXJyb3I6ICR7ZXJyb3IwfT5gO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yMSkge1xuICAgICAgICAgICAgICAgICAgICBsaW5lID0gJzxlcnJvcj4nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGAgICAgYXQgJHtsaW5lfWA7XG4gICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBfRXJyb3I7XG4iXX0=