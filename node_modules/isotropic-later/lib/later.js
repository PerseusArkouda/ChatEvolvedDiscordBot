"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _raw=_interopRequireDefault(require("asap/raw.js")),_timers2=_interopRequireDefault(require("timers"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}const _later=(a,b)=>{let c,d=!1,e=!1;const f=()=>{d||(e=!0,b())};if(0>a)(0,_raw.default)(f);else if(0===a){const a=_timers2.default.setImmediate(f);c=()=>{_timers2.default.clearImmediate(a)}}else{const b=_timers2.default.setTimeout(f,a);c=()=>{_timers2.default.clearTimeout(b)}}return{cancel(){return d||(d=!0,c&&(c(),c=void 0)),this},get cancelled(){return d},get completed(){return e}}};_later.asap=a=>_later(-1,a),_later.soon=a=>_later(0,a);var _default=_later;exports.default=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2pzL2xhdGVyLmpzIl0sIm5hbWVzIjpbIl9sYXRlciIsIm1pbGxpc2Vjb25kcyIsImNhbGxiYWNrRnVuY3Rpb24iLCJjbGVhclRpbWVyIiwiY2FuY2VsbGVkIiwiY29tcGxldGVkIiwidGltZXJGdW5jdGlvbiIsInRpbWVyIiwiX3RpbWVycyIsInNldEltbWVkaWF0ZSIsImNsZWFySW1tZWRpYXRlIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImNhbmNlbCIsImFzYXAiLCJzb29uIl0sIm1hcHBpbmdzIjoiOFFBR0EsS0FBTUEsQ0FBQUEsTUFBTSxDQUFHLENBQUNDLENBQUQsQ0FBZUMsQ0FBZixHQUFvQyxDQUMvQyxHQUNJQyxDQUFBQSxDQURKLENBQUlDLENBQVMsR0FBYixDQUVJQyxDQUFTLEdBRmIsQ0FJQSxLQUFNQyxDQUFBQSxDQUFhLENBQUcsSUFBTSxDQUNuQkYsQ0FEbUIsR0FFcEJDLENBQVMsR0FGVyxDQUdwQkgsQ0FBZ0IsRUFISSxDQUszQixDQUxELENBT0EsR0FBbUIsQ0FBZixDQUFBRCxDQUFKLENBQ0ksaUJBQU1LLENBQU4sQ0FESixLQUVPLElBQXFCLENBQWpCLEdBQUFMLENBQUosQ0FBd0IsQ0FDM0IsS0FBTU0sQ0FBQUEsQ0FBSyxDQUFHQyxpQkFBUUMsWUFBUixDQUFxQkgsQ0FBckIsQ0FBZCxDQUVBSCxDQUFVLENBQUcsSUFBTSxDQUNmSyxpQkFBUUUsY0FBUixDQUF1QkgsQ0FBdkIsQ0FDSCxDQUNKLENBTk0sSUFNQSxDQUNILEtBQU1BLENBQUFBLENBQUssQ0FBR0MsaUJBQVFHLFVBQVIsQ0FBbUJMLENBQW5CLENBQWtDTCxDQUFsQyxDQUFkLENBRUFFLENBQVUsQ0FBRyxJQUFNLENBQ2ZLLGlCQUFRSSxZQUFSLENBQXFCTCxDQUFyQixDQUNILENBQ0osQ0FFRCxNQUFPLENBQ0hNLE1BQU0sRUFBSSxDQVVOLE1BVEtULENBQUFBLENBU0wsR0FSSUEsQ0FBUyxHQVFiLENBTlFELENBTVIsR0FMUUEsQ0FBVSxFQUtsQixDQUpRQSxDQUFVLE9BSWxCLEdBQU8sSUFDVixDQVpFLENBYUgsR0FBSUMsQ0FBQUEsU0FBSixFQUFpQixDQUNiLE1BQU9BLENBQUFBLENBQ1YsQ0FmRSxDQWdCSCxHQUFJQyxDQUFBQSxTQUFKLEVBQWlCLENBQ2IsTUFBT0EsQ0FBQUEsQ0FDVixDQWxCRSxDQW9CVixDQWhERCxDQWtEQUwsTUFBTSxDQUFDYyxJQUFQLENBQWNaLENBQWdCLEVBQUlGLE1BQU0sQ0FBQyxDQUFDLENBQUYsQ0FBS0UsQ0FBTCxDLENBQ3hDRixNQUFNLENBQUNlLElBQVAsQ0FBY2IsQ0FBZ0IsRUFBSUYsTUFBTSxDQUFDLENBQUQsQ0FBSUUsQ0FBSixDLGNBRXpCRixNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9hc2FwIGZyb20gJ2FzYXAvcmF3LmpzJztcbmltcG9ydCBfdGltZXJzIGZyb20gJ3RpbWVycyc7XG5cbmNvbnN0IF9sYXRlciA9IChtaWxsaXNlY29uZHMsIGNhbGxiYWNrRnVuY3Rpb24pID0+IHtcbiAgICBsZXQgY2FuY2VsbGVkID0gZmFsc2UsXG4gICAgICAgIGNsZWFyVGltZXIsXG4gICAgICAgIGNvbXBsZXRlZCA9IGZhbHNlO1xuXG4gICAgY29uc3QgdGltZXJGdW5jdGlvbiA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFjYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIGNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICBjYWxsYmFja0Z1bmN0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKG1pbGxpc2Vjb25kcyA8IDApIHtcbiAgICAgICAgX2FzYXAodGltZXJGdW5jdGlvbik7XG4gICAgfSBlbHNlIGlmIChtaWxsaXNlY29uZHMgPT09IDApIHtcbiAgICAgICAgY29uc3QgdGltZXIgPSBfdGltZXJzLnNldEltbWVkaWF0ZSh0aW1lckZ1bmN0aW9uKTtcblxuICAgICAgICBjbGVhclRpbWVyID0gKCkgPT4ge1xuICAgICAgICAgICAgX3RpbWVycy5jbGVhckltbWVkaWF0ZSh0aW1lcik7XG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGltZXIgPSBfdGltZXJzLnNldFRpbWVvdXQodGltZXJGdW5jdGlvbiwgbWlsbGlzZWNvbmRzKTtcblxuICAgICAgICBjbGVhclRpbWVyID0gKCkgPT4ge1xuICAgICAgICAgICAgX3RpbWVycy5jbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGNhbmNlbCAoKSB7XG4gICAgICAgICAgICBpZiAoIWNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbGxlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2xlYXJUaW1lcikge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZXIgPSB2b2lkIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGNhbmNlbGxlZCAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FuY2VsbGVkO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgY29tcGxldGVkICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQ7XG4gICAgICAgIH1cbiAgICB9O1xufTtcblxuX2xhdGVyLmFzYXAgPSBjYWxsYmFja0Z1bmN0aW9uID0+IF9sYXRlcigtMSwgY2FsbGJhY2tGdW5jdGlvbik7XG5fbGF0ZXIuc29vbiA9IGNhbGxiYWNrRnVuY3Rpb24gPT4gX2xhdGVyKDAsIGNhbGxiYWNrRnVuY3Rpb24pO1xuXG5leHBvcnQgZGVmYXVsdCBfbGF0ZXI7XG4iXX0=