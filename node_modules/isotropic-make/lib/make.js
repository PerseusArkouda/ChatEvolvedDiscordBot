"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _isotropicCreate=_interopRequireDefault(require("isotropic-create")),_isotropicMixin=_interopRequireDefault(require("isotropic-mixin"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var _default=(a,b,c,d,e,f,g)=>{"function"!=typeof a&&(g=f,f=e,e=d,d=c,c=b,b=a,a=Object),Array.isArray(b)||(g=f,f=e,e=d,d=c,c=b,b=null),"object"!=typeof d&&(g=f,f=e,e=d,d=null),Array.isArray(e)?(g=e,f="_init",e="_init"):(e=e||"_init",Array.isArray(f)?(g=f,f="_init"):f=f||"_init");const h=a.prototype,i=Object.create(h),j="function"==typeof e?function(...a){return Reflect.apply(e,(0,_isotropicCreate.default)(j,i),a)}:function(...a){const b=(0,_isotropicCreate.default)(j,i),c=b[e];return"function"==typeof c?Reflect.apply(c,b,a):b};if(b){const a={};b.forEach(b=>{(0,_isotropicMixin.default)(b,a),(0,_isotropicMixin.default)(b.prototype,i)}),d&&(0,_isotropicMixin.default)(d,a),d=a}return(0,_isotropicMixin.default)(c,i),Object.defineProperty(i,"constructor",{configurable:!0,enumerable:!1,value:j,writable:!0}),d&&(0,_isotropicMixin.default)(d,j),j.mixins=b,j.prototype=i,j.super_=a,j.superclass=h,Reflect.setPrototypeOf(j,a),"string"==typeof f&&(f=j[f]),"function"==typeof f?Reflect.apply(f,j,Array.isArray(g)?g:[]):j};exports.default=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2pzL21ha2UuanMiXSwibmFtZXMiOlsic3VwZXJDb25zdHJ1Y3RvckZ1bmN0aW9uIiwibWl4aW5Db25zdHJ1Y3RvckZ1bmN0aW9ucyIsInByb3RvdHlwZU9iamVjdCIsInN0YXRpY09iamVjdCIsImluaXRGdW5jdGlvbiIsInN0YXRpY0luaXRGdW5jdGlvbiIsInN0YXRpY0luaXRGdW5jdGlvbkFyZ3MiLCJPYmplY3QiLCJBcnJheSIsImlzQXJyYXkiLCJzdXBlclByb3RvdHlwZU9iamVjdCIsInByb3RvdHlwZSIsImluaGVyaXRlZFByb3RvdHlwZU9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yRnVuY3Rpb24iLCJhcmdzIiwiUmVmbGVjdCIsImFwcGx5IiwiaW5zdGFuY2UiLCJpbnN0YW5jZUluaXRGdW5jdGlvbiIsInN0YXRpY01peGluT2JqZWN0IiwiZm9yRWFjaCIsIm1peGluQ29uc3RydWN0b3JGdW5jdGlvbiIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsInZhbHVlIiwid3JpdGFibGUiLCJtaXhpbnMiLCJzdXBlcl8iLCJzdXBlcmNsYXNzIiwic2V0UHJvdG90eXBlT2YiXSwibWFwcGluZ3MiOiI0VEFHZSxDQUFDQSxDQUFELENBQTJCQyxDQUEzQixDQUFzREMsQ0FBdEQsQ0FBdUVDLENBQXZFLENBQXFGQyxDQUFyRixDQUFtR0MsQ0FBbkcsQ0FBdUhDLENBQXZILEdBQWtKLENBQ3JILFVBQXBDLFFBQU9OLENBQUFBLENBRGtKLEdBRXpKTSxDQUFzQixDQUFHRCxDQUZnSSxDQUd6SkEsQ0FBa0IsQ0FBR0QsQ0FIb0ksQ0FJekpBLENBQVksQ0FBR0QsQ0FKMEksQ0FLekpBLENBQVksQ0FBR0QsQ0FMMEksQ0FNekpBLENBQWUsQ0FBR0QsQ0FOdUksQ0FPekpBLENBQXlCLENBQUdELENBUDZILENBUXpKQSxDQUF3QixDQUFHTyxNQVI4SCxFQVd4SkMsS0FBSyxDQUFDQyxPQUFOLENBQWNSLENBQWQsQ0FY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Q2UsY0FBUixDQUF1QmpCLENBQXZCLENBQTRDZCxDQUE1QyxDQTVGNkosQ0E4RjNILFFBQTlCLFFBQU9LLENBQUFBLENBOUZrSixHQStGekpBLENBQWtCLENBQUdTLENBQW1CLENBQUNULENBQUQsQ0EvRmlILEVBa0czSCxVQUE5QixRQUFPQSxDQUFBQSxDQWxHa0osQ0FtR2xKVyxPQUFPLENBQUNDLEtBQVIsQ0FDSFosQ0FERyxDQUVIUyxDQUZHLENBR0hOLEtBQUssQ0FBQ0MsT0FBTixDQUFjSCxDQUFkLEVBQ0lBLENBREosQ0FFSSxFQUxELENBbkdrSixDQTRHdEpRLENBQ1YsQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfY3JlYXRlIGZyb20gJ2lzb3Ryb3BpYy1jcmVhdGUnO1xuaW1wb3J0IF9taXhpbiBmcm9tICdpc290cm9waWMtbWl4aW4nO1xuXG5leHBvcnQgZGVmYXVsdCAoc3VwZXJDb25zdHJ1Y3RvckZ1bmN0aW9uLCBtaXhpbkNvbnN0cnVjdG9yRnVuY3Rpb25zLCBwcm90b3R5cGVPYmplY3QsIHN0YXRpY09iamVjdCwgaW5pdEZ1bmN0aW9uLCBzdGF0aWNJbml0RnVuY3Rpb24sIHN0YXRpY0luaXRGdW5jdGlvbkFyZ3MpID0+IHtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ29uc3RydWN0b3JGdW5jdGlvbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzdGF0aWNJbml0RnVuY3Rpb25BcmdzID0gc3RhdGljSW5pdEZ1bmN0aW9uO1xuICAgICAgICBzdGF0aWNJbml0RnVuY3Rpb24gPSBpbml0RnVuY3Rpb247XG4gICAgICAgIGluaXRGdW5jdGlvbiA9IHN0YXRpY09iamVjdDtcbiAgICAgICAgc3RhdGljT2JqZWN0ID0gcHJvdG90eXBlT2JqZWN0O1xuICAgICAgICBwcm90b3R5cGVPYmplY3QgPSBtaXhpbkNvbnN0cnVjdG9yRnVuY3Rpb25zO1xuICAgICAgICBtaXhpbkNvbnN0cnVjdG9yRnVuY3Rpb25zID0gc3VwZXJDb25zdHJ1Y3RvckZ1bmN0aW9uO1xuICAgICAgICBzdXBlckNvbnN0cnVjdG9yRnVuY3Rpb24gPSBPYmplY3Q7XG4gICAgfVxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG1peGluQ29uc3RydWN0b3JGdW5jdGlvbnMpKSB7XG4gICAgICAgIHN0YXRpY0luaXRGdW5jdGlvbkFyZ3MgPSBzdGF0aWNJbml0RnVuY3Rpb247XG4gICAgICAgIHN0YXRpY0luaXRGdW5jdGlvbiA9IGluaXRGdW5jdGlvbjtcbiAgICAgICAgaW5pdEZ1bmN0aW9uID0gc3RhdGljT2JqZWN0O1xuICAgICAgICBzdGF0aWNPYmplY3QgPSBwcm90b3R5cGVPYmplY3Q7XG4gICAgICAgIHByb3RvdHlwZU9iamVjdCA9IG1peGluQ29uc3RydWN0b3JGdW5jdGlvbnM7XG4gICAgICAgIG1peGluQ29uc3RydWN0b3JGdW5jdGlvbnMgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc3RhdGljT2JqZWN0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBzdGF0aWNJbml0RnVuY3Rpb25BcmdzID0gc3RhdGljSW5pdEZ1bmN0aW9uO1xuICAgICAgICBzdGF0aWNJbml0RnVuY3Rpb24gPSBpbml0RnVuY3Rpb247XG4gICAgICAgIGluaXRGdW5jdGlvbiA9IHN0YXRpY09iamVjdDtcbiAgICAgICAgc3RhdGljT2JqZWN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShpbml0RnVuY3Rpb24pKSB7XG4gICAgICAgIHN0YXRpY0luaXRGdW5jdGlvbkFyZ3MgPSBpbml0RnVuY3Rpb247XG4gICAgICAgIHN0YXRpY0luaXRGdW5jdGlvbiA9ICdfaW5pdCc7XG4gICAgICAgIGluaXRGdW5jdGlvbiA9ICdfaW5pdCc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaW5pdEZ1bmN0aW9uID0gaW5pdEZ1bmN0aW9uIHx8ICdfaW5pdCc7XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3RhdGljSW5pdEZ1bmN0aW9uKSkge1xuICAgICAgICAgICAgc3RhdGljSW5pdEZ1bmN0aW9uQXJncyA9IHN0YXRpY0luaXRGdW5jdGlvbjtcbiAgICAgICAgICAgIHN0YXRpY0luaXRGdW5jdGlvbiA9ICdfaW5pdCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0aWNJbml0RnVuY3Rpb24gPSBzdGF0aWNJbml0RnVuY3Rpb24gfHwgJ19pbml0JztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHN1cGVyUHJvdG90eXBlT2JqZWN0ID0gc3VwZXJDb25zdHJ1Y3RvckZ1bmN0aW9uLnByb3RvdHlwZSxcblxuICAgICAgICBpbmhlcml0ZWRQcm90b3R5cGVPYmplY3QgPSBPYmplY3QuY3JlYXRlKHN1cGVyUHJvdG90eXBlT2JqZWN0KSxcblxuICAgICAgICBjb25zdHJ1Y3RvckZ1bmN0aW9uID0gdHlwZW9mIGluaXRGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KGluaXRGdW5jdGlvbiwgX2NyZWF0ZShjb25zdHJ1Y3RvckZ1bmN0aW9uLCBpbmhlcml0ZWRQcm90b3R5cGVPYmplY3QpLCBhcmdzKTtcbiAgICAgICAgICAgIH0gOlxuICAgICAgICAgICAgZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IF9jcmVhdGUoY29uc3RydWN0b3JGdW5jdGlvbiwgaW5oZXJpdGVkUHJvdG90eXBlT2JqZWN0KSxcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VJbml0RnVuY3Rpb24gPSBpbnN0YW5jZVtpbml0RnVuY3Rpb25dO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBpbnN0YW5jZUluaXRGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgICAgIFJlZmxlY3QuYXBwbHkoaW5zdGFuY2VJbml0RnVuY3Rpb24sIGluc3RhbmNlLCBhcmdzKSA6XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlO1xuICAgICAgICAgICAgfTtcblxuICAgIGlmIChtaXhpbkNvbnN0cnVjdG9yRnVuY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IHN0YXRpY01peGluT2JqZWN0ID0ge307XG5cbiAgICAgICAgbWl4aW5Db25zdHJ1Y3RvckZ1bmN0aW9ucy5mb3JFYWNoKG1peGluQ29uc3RydWN0b3JGdW5jdGlvbiA9PiB7XG4gICAgICAgICAgICBfbWl4aW4obWl4aW5Db25zdHJ1Y3RvckZ1bmN0aW9uLCBzdGF0aWNNaXhpbk9iamVjdCk7XG4gICAgICAgICAgICBfbWl4aW4obWl4aW5Db25zdHJ1Y3RvckZ1bmN0aW9uLnByb3RvdHlwZSwgaW5oZXJpdGVkUHJvdG90eXBlT2JqZWN0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHN0YXRpY09iamVjdCkge1xuICAgICAgICAgICAgX21peGluKHN0YXRpY09iamVjdCwgc3RhdGljTWl4aW5PYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGljT2JqZWN0ID0gc3RhdGljTWl4aW5PYmplY3Q7XG4gICAgfVxuXG4gICAgX21peGluKHByb3RvdHlwZU9iamVjdCwgaW5oZXJpdGVkUHJvdG90eXBlT2JqZWN0KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbmhlcml0ZWRQcm90b3R5cGVPYmplY3QsICdjb25zdHJ1Y3RvcicsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IGNvbnN0cnVjdG9yRnVuY3Rpb24sXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG5cbiAgICBpZiAoc3RhdGljT2JqZWN0KSB7XG4gICAgICAgIF9taXhpbihzdGF0aWNPYmplY3QsIGNvbnN0cnVjdG9yRnVuY3Rpb24pO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yRnVuY3Rpb24ubWl4aW5zID0gbWl4aW5Db25zdHJ1Y3RvckZ1bmN0aW9ucztcbiAgICBjb25zdHJ1Y3RvckZ1bmN0aW9uLnByb3RvdHlwZSA9IGluaGVyaXRlZFByb3RvdHlwZU9iamVjdDtcbiAgICBjb25zdHJ1Y3RvckZ1bmN0aW9uLnN1cGVyXyA9IHN1cGVyQ29uc3RydWN0b3JGdW5jdGlvbjtcbiAgICBjb25zdHJ1Y3RvckZ1bmN0aW9uLnN1cGVyY2xhc3MgPSBzdXBlclByb3RvdHlwZU9iamVjdDtcblxuICAgIFJlZmxlY3Quc2V0UHJvdG90eXBlT2YoY29uc3RydWN0b3JGdW5jdGlvbiwgc3VwZXJDb25zdHJ1Y3RvckZ1bmN0aW9uKTtcblxuICAgIGlmICh0eXBlb2Ygc3RhdGljSW5pdEZ1bmN0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICBzdGF0aWNJbml0RnVuY3Rpb24gPSBjb25zdHJ1Y3RvckZ1bmN0aW9uW3N0YXRpY0luaXRGdW5jdGlvbl07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzdGF0aWNJbml0RnVuY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkoXG4gICAgICAgICAgICBzdGF0aWNJbml0RnVuY3Rpb24sXG4gICAgICAgICAgICBjb25zdHJ1Y3RvckZ1bmN0aW9uLFxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheShzdGF0aWNJbml0RnVuY3Rpb25BcmdzKSA/XG4gICAgICAgICAgICAgICAgc3RhdGljSW5pdEZ1bmN0aW9uQXJncyA6XG4gICAgICAgICAgICAgICAgW11cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29uc3RydWN0b3JGdW5jdGlvbjtcbn07XG4iXX0=